<app-full-dialog
  title="Autenticar na API"
  closeLabel="Fechar"
  (closeDialog)="onClose()"
>
  <ng-container content>
    <div class="row pt-1 pb-1">
      <div class="col">
        <p>
          Ao clicar em enviar o sistema fará uma requisição POST para o endpoint
          de login passando a chave informada
        </p>

        <app-code-viewer
          language="javascript"
          [code]="loginRequestCode"
        ></app-code-viewer>

        <a
          mat-icon-button
          href="https://documenter.getpostman.com/view/44879535/2sB2jAbTrK#279f771c-8ad6-48b3-bf11-8f8c71b371e4"
          target="_blank"
          matTooltip="Ver a documentação"
        >
          <mat-icon>menu_book</mat-icon>
        </a>

        <p class="mt-3">
          <strong>ATENÇÃO:</strong> A duração do token de autenticação é de 12
          horas. Após este período será necessário renovar o token.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="app-form-group col-md-10 col-sm-12">
        <mat-form-field color="accent">
          <mat-label>Chave de Autenticação</mat-label>
          <textarea rows="3" matInput [(ngModel)]="key"></textarea>
          <mat-error><bfv-messages></bfv-messages></mat-error>
        </mat-form-field>
      </div>
    </div>
  </ng-container>
  <ng-container actions>
    <button
      class="me-2"
      type="button"
      mat-raised-button
      color="accent"
      (click)="onSend()"
    >
      Enviar
    </button>
  </ng-container>
</app-full-dialog>
